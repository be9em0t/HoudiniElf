Aircraft settings:
Model: Asobo C208B Cargo
Max. fuel: 2034 lbs
Range: 964 n.m.
Cruise speed: 195 ktas

Flight settings:
Fuel reserve: 10%
Flight distance: 336 n.m.

Results:
Fuel to load = lbs
Fuel needed for flight =  lbs
Fuel consumption rate =  lbs/n.m.
Expected fule flow = pph

Formula:
1. Fuel consumption rate = Max. fuel / Range
2. Fuel needed for flight = Fuel consumption rate * Flight distance
3. Fuel to load = Fuel needed for flight * (1 + Fuel reserve)


Calculation:
Fuel consumption rate = 2034 lbs / 964 n.m. = 2.11 lbs/n.m.
Fuel needed for flight = 2.11 lbs/n.m. * 336 n.m. = 709.96 lbs
Fuel to load = 709.96 lbs * (1 + 0.10) = 780.96 lbs


--- Updated formula:



-----

# Inputs:
# distance         = planned distance (NM)
# published_range  = book / POH range (NM)
# max_fuel         = maximum fuel capacity (same units you want out, e.g. kg or gallons)

# Tunable factors (examples):
# weight_factor    = 0.90   # 1.0 = no penalty, <1.0 = reduced range due to load
# wind_factor      = 0.90   # 1.0 = no penalty, <1.0 = reduced range due to average headwind
# climb_fraction   = 0.08   # fraction of max_fuel reserved for climb
# reserve_fraction = 0.12   # fraction of max_fuel reserved as final reserve

effective_range = published_range * weight_factor * wind_factor

fixed_fraction = climb_fraction + reserve_fraction

available_cruise_fuel = (1 - fixed_fraction) * max_fuel

cruise_fuel = available_cruise_fuel * (distance / effective_range)

total_fuel = cruise_fuel + fixed_fraction * max_fuel

----

Weight factor meaning
Weight_factor is a multiplier on range:

1.0  → no penalty (you trust the book range as-is)

0.9  → you assume you only get 90% of the published range (heavier, less efficient)

0.8  → you assume only 80% of the published range, etc.

So yes: think of 1.0 as “ideal conditions / nominal weight”, and values below 1.0 as “realistic penalty”. For your “80% load” assumption, using 0.9 is a reasonable simplification.

Wind factor meaning
Wind_factor is also a multiplier on range, not “1 = strong headwind”:

1.0  → zero net wind effect (no penalty)

0.9  → you assume you effectively lose 10% of range to average headwinds

0.8  → you assume a harsher environment, 20% range loss, etc.

So both weight_factor and wind_factor are “range reduction multipliers”, where 1.0 is best case, and anything below 1.0 is more conservative.

If you want, we can define a “conservative preset” like:
weight_factor = 0.9
wind_factor   = 0.9
and treat those as your default NeoFly profile.